(this.webpackJsonpnycrestuarants=this.webpackJsonpnycrestuarants||[]).push([[0],{29:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var A=n(1),c=n.n(A),i=n(9),a=n.n(i),s=(n(29),n(3)),r=n(4),o=n.n(r),l=n(7),u=n(8),d=n(2),j=function(e,t){for(var n=[],A=0;A<t.length;A++)for(var c=t[A][e],i=0;i<c.length;i++)n.includes(c[i])||""===c[i]||n.push(c[i]);return n.sort(),n.map((function(e){return{name:e,checked:!1}}))},b=n(0);var h=function(){return Object(b.jsx)("div",{className:"loading-wrapper",children:Object(b.jsx)("div",{className:"loading"})})};function f(e){var t=Object(A.useState)([]),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(A.useEffect)((function(){var t=e.restaurants;t=t.filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t})),i(t)}),[e.restaurants]),Object(b.jsx)("div",{className:"eateries-wrapper",children:e.loaded?c.map((function(t,n){return Object(b.jsx)(g,{res:t,fetchData:e.fetchData,index:n},n)})):Object(b.jsx)(h,{})})}function g(e){return Object(b.jsx)("div",{className:"eatery ",children:Object(b.jsxs)("div",{className:"eatery-content",children:[Object(b.jsx)("h3",{onClick:function(){return e.fetchData(e.res)},children:e.res.name}),Object(b.jsxs)("p",{className:"eatery-cuisines",children:[function(){for(var t="",n=0;n<e.res.price;n++)t+="$";return t}()," | ",e.res.cuisine.map((function(e,t){return 0===t?e:", "+e}))]}),Object(b.jsx)("p",{className:"eatery-city",children:e.res.city}),Object(b.jsx)("p",{className:"eatery-locations",children:e.res.location.join(", ")})]})})}function p(e,t){var n=Math.abs(e.lat-t.lat),A=Math.abs(e.lng-t.lng);return Math.sqrt(n*n+A*A)}function O(e){return 500*Math.exp((16-e)*Math.log(2))}function m(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(o.a.mark((function e(t,n,A){var c,i,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.google.maps.importLibrary("places");case 2:return c=e.sent,i=c.Place,a={textQuery:t,fields:["displayName","location","businessStatus","priceLevel","addressComponents"],locationBias:A,language:"en-US",region:"us",useStrictTypeFiltering:!1},e.next=7,i.searchByText(a);case 7:if(s=e.sent,r=s.places,console.log(r),!(r.length>0)){e.next=12;break}return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(o.a.mark((function e(t){var n,A,c,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new window.google.maps.Geocoder,e.next=3,n.geocode({location:t}).catch((function(e){return console.log("Geocoder failed due to: "+e)}));case 3:if(!(A=e.sent).results[0]){e.next=6;break}return e.abrupt("return",null===(c=A.results[0].address_components)||void 0===c||null===(i=c.filter((function(e){return e.types.includes("locality")})))||void 0===i||null===(a=i[0])||void 0===a?void 0:a.long_name);case 6:return e.abrupt("return","");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n.p+"static/media/restaurants.5c066924.csv",C=n(10),B=n.p+"static/media/close.3db1d2dc.png",D={Asian:["Southeast Asian","Chinese","Japanese","Korean","Taiwanese","Thai","Vietnamese","Filipino","Indian","Nepalese"],"Southeast Asian":["Thai","Vietnamese","Filipino","Malaysian","Burmese","Laotian"],American:["Southern"],Chinese:["Dim Sum"],Scandinavian:["Danish"],"Latin American":["South American","Mexican","Peruvian","Venezuelan","Salvadoran"],"South American":["Peruvian","Venezuelan","Brazilian","Argentinian"]};function M(e){var t,n,c,i=Object(A.useState)([]),a=Object(d.a)(i,2),r=a[0],o=a[1],l=Object(A.useState)([]),j=Object(d.a)(l,2),h=j[0],f=j[1],g=Object(A.useState)(!1),p=Object(d.a)(g,2),O=p[0],m=p[1],x=Object(A.useState)({previous:-1,check:!0}),v=Object(d.a)(x,2),y=v[0],w=v[1],D=Object(A.useRef)(null);t=D,n=O,c=m,Object(A.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&n&&c(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[n]),Object(A.useEffect)((function(){o(["Any"])}),[]),Object(A.useEffect)((function(){E()}),[e.options]),Object(A.useEffect)((function(){e.filters[e.name].length<=0&&(E(),o(["Any"]))}),[e.filters]);var M=function(e,t,n,A){return console.log("selecting: "+t),A?"Any"!==e[0]?e.push(n):e=[n]:e=e.filter((function(e){return e!==n})),e},E=function(){var t=e.options.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{checked:!1})}));f(t)};return Object(b.jsxs)("div",{className:"multiselect-wrapper",ref:D,children:[Object(b.jsx)("div",{className:"multiselect",onClick:function(){m(!O)},children:Object(b.jsx)("div",{className:"multiselect-show",children:function(){var e="";return r.forEach((function(t,n){n>0&&(e+=", "),e+=t})),e}()})}),O?Object(b.jsx)("div",{className:"multiselect-options",children:h.map((function(t,n){return Object(b.jsxs)("label",{children:[Object(b.jsx)(Q,{handleClick:function(n){return function(t,n){var A=r,c=!A.includes(n),i=Object(u.a)(h),a=i.findIndex((function(e){return e.name===n}));if(t.shiftKey&&y.previous>=0)for(var l=Math.min(y.previous,a),d=Math.max(y.previous,a),j=l;j<=d;j++){console.log("multi");var b=i[j];b.checked=c,A=M(A,j,b.name,c)}else i[a].checked=c,A=M(A,a,n,c);console.log(A),e.setFilters(Object(s.a)(Object(s.a)({},e.filters),{},Object(C.a)({},e.name,A))),0===A.length?o(["Any"]):o(A),w(Object(s.a)(Object(s.a)({},y),{},{previous:a}))}(n,t.name)},checked:t.checked}),Object(b.jsx)("p",{children:t.name})]},n)}))}):Object(b.jsx)("div",{}),Object(b.jsx)("div",{className:"remove-all",onClick:function(){o(["Any"]),E(),e.setFilters(Object(s.a)(Object(s.a)({},e.filters),{},Object(C.a)({},e.name,[]))),m(!1)},children:Object(b.jsx)("img",{src:B,style:{width:"10px"},alt:"close"})})]})}function Q(e){var t=Object(A.useState)(e.checked),n=Object(d.a)(t,2),c=n[0],i=n[1];Object(A.useEffect)((function(){i(e.checked)}),[e.checked]);return Object(b.jsx)("div",{className:"custom-checkbox"+(c?" checked":""),onClick:function(t){i(!c),e.handleClick(t)}})}var E=function(e){var t=Object(A.useState)({cuisine:"All",category:"All",location:[],price:"All",name:"",sort:"rating"}),n=Object(d.a)(t,2),c=n[0],i=n[1];Object(A.useEffect)((function(){var t=r();e.setRes(t)}),[c,e.center]);var a=function(e,t){i(Object(s.a)(Object(s.a)({},c),{},Object(C.a)({},e.target.name,e.target.value)))},r=function(){var t=e.restaurants.filter((function(t){return p({lat:t.lat,lng:t.lng},e.center)<O(e.zoom)/35e3}));if(c.name)return t=t.filter((function(e){return e.name.toLowerCase().includes(String(c.name).toLowerCase())}));if("All"!==c.cuisine)if(D.hasOwnProperty(c.cuisine)){var n=D[c.cuisine];t=t.filter((function(e){var t=!1;return n.forEach((function(n){e.cuisine.includes(n)&&(t=!0)})),!!t||e.cuisine.includes(c.cuisine)}))}else t=t.filter((function(e){return e.cuisine.includes(c.cuisine)}));return"All"!==c.category&&(t=t.filter((function(e){return e.category.includes(c.category)}))),c.location.length>0&&(t=function(e,t,n){return e.filter((function(e){var A=!1;return n.forEach((function(n){e[t].includes(n)&&(A=!0)})),A}))}(t,"location",c.location)),"All"!==c.price&&(t=t.filter((function(e){return e.price===c.price}))),t[0]&&(t[0].best=!0),"rating"===c.sort&&t.sort((function(e,t){return Number(t.rating)-Number(e.rating)})),t};return Object(b.jsxs)("div",{className:"menu-wrapper",children:[Object(b.jsxs)("form",{children:[Object(b.jsxs)("label",{children:["City",Object(b.jsx)("select",{value:e.city,name:"city",onChange:function(t){return e.setCity(Number(t.target.value))},children:e.cities.map((function(e,t){return Object(b.jsx)("option",{value:t,children:e.name})}))})]}),Object(b.jsxs)("label",{children:["Cuisine",Object(b.jsxs)("select",{value:c.cuisine,name:"cuisine",onChange:a,children:[Object(b.jsx)("option",{value:"All",children:"All"}),e.labels.cuisines.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name})}))]})]}),Object(b.jsxs)("label",{children:["Category",Object(b.jsxs)("select",{value:c.category,name:"category",onChange:a,children:[Object(b.jsx)("option",{value:"All",children:"All"}),e.labels.categories.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name})}))]})]}),Object(b.jsxs)("label",{children:["Neighborhood",Object(b.jsx)(M,{name:"location",options:e.labels.locations,filters:c,setFilters:i})]}),Object(b.jsxs)("label",{children:["Price",Object(b.jsxs)("select",{value:c.price,name:"price",onChange:a,children:[Object(b.jsx)("option",{value:"All",children:"All"}),Object(b.jsx)("option",{value:"1",children:"$"}),Object(b.jsx)("option",{value:"2",children:"$$"}),Object(b.jsx)("option",{value:"3",children:"$$$"}),Object(b.jsx)("option",{value:"4",children:"$$$$"})]})]}),Object(b.jsxs)("div",{className:"button-wrapper",children:[Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),i({cuisine:"All",category:"All",location:[],price:"All"})},children:"Reset"}),Object(b.jsx)("button",{onClick:function(t){t.preventDefault();var n=r(),A=Math.floor(Math.random()*n.length);e.setRes([n[A]])},children:"Random"})]})]}),e.devMode?Object(b.jsxs)("form",{children:[Object(b.jsxs)("label",{children:[" Search",Object(b.jsx)("input",{type:"text",placeholder:"Search name of restaurant",name:"name",onChange:a})]}),Object(b.jsxs)("label",{children:[" Sort",Object(b.jsxs)("select",{value:c.sort,name:"sort",onChange:a,children:[Object(b.jsx)("option",{value:"recent",children:"Recent"}),Object(b.jsx)("option",{value:"rating",children:"Rating"})]})]})]}):Object(b.jsx)(b.Fragment,{})]})};function I(e,t){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(o.a.mark((function e(t,n){var A;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t.name,t.location.length,n);case 2:return A=e.sent,e.abrupt("return",A.map((function(e){return e.Fg})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=[{name:"Unsent",class:""},{name:"client error",class:"warning"},{name:"Success",class:"success",message:"Success! Your restaurant has been added."},{name:"server error",class:"error",message:"Sorry, there was an error. Please try again."}];var G=function(e){var t=Object(A.useState)(""),n=Object(d.a)(t,2),c=n[0],i=n[1],a=Object(A.useState)({cuisine:[],category:[],location:[]}),r=Object(d.a)(a,2),j=r[0],h=r[1],f=Object(A.useState)(0),g=Object(d.a)(f,2),p=g[0],O=g[1],m=Object(A.useState)(0),x=Object(d.a)(m,2),v=x[0],y=x[1],w=Object(A.useState)(""),C=Object(d.a)(w,2),D=C[0],M=C[1],Q=Object(A.useState)(""),E=Object(d.a)(Q,2),N=E[0],G=(E[1],Object(A.useState)("")),Y=Object(d.a)(G,2),F=Y[0],P=Y[1],T=Object(A.useState)(0),R=Object(d.a)(T,2),S=R[0],H=R[1],z=Object(A.useState)(""),U=Object(d.a)(z,2),K=U[0],L=U[1],V=Object(A.useState)(!0),Z=Object(d.a)(V,2),W=Z[0],J=Z[1],X=Object(A.useState)([]),q=Object(d.a)(X,2),_=q[0],$=q[1],ee=Object(A.useState)(e.labels),te=Object(d.a)(ee,2),ne=te[0],Ae=te[1],ce=Object(A.useState)(""),ie=Object(d.a)(ce,2),ae=ie[0],se=ie[1];Object(A.useEffect)((function(){Ae(e.labels)}),[e.labels]);var re=function(e,t){var n=Object(s.a)({},ne),A=n[e.target.name].find((function(e){return e.name===t}));A.checked=!A.checked,Ae(n)},oe=function(){var t=Object(l.a)(o.a.mark((function t(n){var A,i,a,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),H(0),L(""),A=ne.cuisines.filter((function(e){return e.checked})).map((function(e){return e.name})),D&&A.indexOf(D)<0&&A.push(D),i=ne.locations.filter((function(e){return e.checked})).map((function(e){return e.name})),N&&i.indexOf(N)<0&&i.push(N),a=ne.categories.filter((function(e){return e.checked})).map((function(e){return e.name})),F&&a.indexOf(F)<0&&a.push(F),h({cuisine:A,category:a,location:i}),!ue({cuisine:A,category:a,location:i})){t.next=16;break}return s={name:c,cuisine:A,category:j.category,location:j.location,price:Number(p),rating:Number(v)},t.next=14,I(s,e.center);case 14:r=t.sent,$(r);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var A,i,a,s,r,l,d,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),d=[c,j.cuisine.reduce((function(e,t){return e+"|"+t})),j.category.reduce((function(e,t){return e+"|"+t})),null===(A=t.addressComponents)||void 0===A||null===(i=A.filter((function(e){return e.types.includes("neighborhood")})))||void 0===i||null===(a=i[0])||void 0===a?void 0:a.longText,null===(s=t.addressComponents)||void 0===s||null===(r=s.filter((function(e){return e.types.includes("locality")})))||void 0===r||null===(l=r[0])||void 0===l?void 0:l.longText,p,t.location.lat,t.location.lng,v],se(ae.concat(d.join(",")+"\n")),(b=Object(u.a)(_))[n].success=!0,$(b);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(t){if(t.cuisine.length<=0)L("No cuisines were selected.");else if(t.category.length<=0)L("No categories were selected.");else if(c){if(!(e.restaurants.findIndex((function(e){return e.name===c}))>=0))return!0;L("You already added that restaurant.")}else L("You must include a name.");return H(1),!1};return Object(b.jsxs)(b.Fragment,{children:[_.length>0?Object(b.jsx)("div",{className:"dialog-wrapper",children:Object(b.jsxs)("div",{className:"dialog input",children:[Object(b.jsx)("p",{className:"close",onClick:function(){return $([])},children:Object(b.jsx)("img",{src:B,style:{width:"10px"},alt:"close"})}),_.map((function(e,t){return Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:e.displayName}),Object(b.jsx)("p",{children:e.addressComponents.reduce((function(e,t){return e+(t.longText+", ")}),"")}),Object(b.jsxs)("p",{children:["Price Level: ",e.priceLevel]}),Object(b.jsxs)("p",{children:["Business Status: ",e.businessStatus]})]}),Object(b.jsx)("button",{className:e.success?"success-button":"",onClick:function(){return le(e,t)},children:"+"})]})})),S>=1?Object(b.jsx)("div",{className:"status-bar "+k[S].class,children:Object(b.jsx)("p",{children:2===S?k[S].message:K})}):Object(b.jsx)(b.Fragment,{})]})}):Object(b.jsx)(b.Fragment,{}),Object(b.jsxs)("div",{className:"input-form"+(W?"":" minimized"),children:[Object(b.jsx)("div",{className:"minimize-icon",onClick:function(){return J(!W)},children:W?"\u2013":"+"}),Object(b.jsxs)("form",{onSubmit:oe,id:"input-form",children:[Object(b.jsxs)("div",{className:"input-section title",children:[Object(b.jsx)("p",{children:"What is the name of the restuarant?"}),Object(b.jsx)("input",{type:"text",value:c,onChange:function(e){i(e.target.value)}})]}),Object(b.jsxs)("div",{className:"input-section",children:[Object(b.jsx)("p",{children:"What cuisine is this restuarant?"}),Object(b.jsxs)("div",{className:"input-options",style:{height:ne.cuisines.length/2*25+40+"px"},children:[ne.cuisines.map((function(e){return Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",name:"cuisines",value:e.name,onChange:function(t){return re(t,e.name)},checked:!!e.checked}),e.name]})})),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:D}),"Other:",Object(b.jsx)("input",{type:"text",value:D,onChange:function(e){return M(e.target.value)}})]})]})]}),Object(b.jsxs)("div",{className:"input-section",children:[Object(b.jsx)("p",{children:"What categories does it fall under?"}),Object(b.jsxs)("div",{className:"input-options",style:{height:ne.categories.length/2*25+40+"px"},children:[ne.categories.map((function(e){return Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",name:"categories",value:e.name,onChange:function(t){return re(t,e.name)},checked:!!e.checked}),e.name]})})),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:F}),"Other:",Object(b.jsx)("input",{type:"text",value:F,onChange:function(e){return P(e.target.value)}})]})]})]}),Object(b.jsxs)("div",{className:"input-section",children:[Object(b.jsx)("p",{children:"What price range is it?"}),Object(b.jsx)("input",{type:"number",min:"1",max:"4",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(b.jsxs)("div",{className:"input-section",children:[Object(b.jsx)("p",{children:"What would you rate it out of 5?"}),Object(b.jsx)("input",{type:"number",min:"0.0",max:"5.0",value:v,step:"0.1",onChange:function(e){return y(e.target.value)}})]}),Object(b.jsx)("input",{type:"reset",onClick:function(){i(""),h({cuisine:[],category:[],location:[]}),O(0),y(0),M(""),P(""),ne.cuisines.forEach((function(e){return e.checked=!1})),ne.locations.forEach((function(e){return e.checked=!1})),ne.categories.forEach((function(e){return e.checked=!1})),document.getElementById("input-form").reset()}}),Object(b.jsx)("input",{type:"submit"}),S>=1?Object(b.jsx)("div",{className:"status-bar "+k[S].class,children:Object(b.jsx)("p",{children:2===S?k[S].message:K})}):Object(b.jsx)(b.Fragment,{})]})]}),Object(b.jsxs)("div",{className:"csv-text",children:[Object(b.jsx)("h2",{children:"Output:"}),Object(b.jsx)("textarea",{readOnly:!0,value:ae})]})]})},Y=n(12),F={width:"100%",height:"100%"},P={styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{color:"#d1bba1"},{visibility:"simplified"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#f1e5d5"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#ebd8c3"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{color:"#f1e5d5"},{saturation:0},{lightness:0}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{color:"#ffffff"},{visibility:"on"},{lightness:"31"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels",stylers:[{color:"#ffffff"},{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#000000"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#f1e5d5"}]}]},T=["places"],R=["Asian","Thai","Southeast Asian","Vietnamese","Filipino","Taiwanese","Burmese","Laotian","Nepalese"];function S(e){var t=Object(A.useRef)(),n=Object(A.useState)({open:!1,index:-1}),c=Object(d.a)(n,2),i=c[0],a=c[1],s=Object(A.useState)([]),r=Object(d.a)(s,2),o=r[0],l=r[1],u=Object(A.useMemo)((function(){return e.zoom}),[e.zoom]);Object(A.useEffect)((function(){l(e.restaurants)}),[e.restaurants]);var j=Object(Y.d)({googleMapsApiKey:"".concat("AIzaSyC40GiP6JaRU5qXR4ct6TGWoZ56RZBOaQ4"),libraries:T}),f=j.isLoaded,g=j.loadError,p=Object(A.useCallback)((function(e){t.current=e}),[]),O=Object(A.useCallback)((function(){t.current=null}),[]),m=Object(A.useCallback)((function(){if(t.current){var n=t.current.getZoom();e.setZoom(n)}}),[t]);return g?Object(b.jsx)("div",{children:"Map cannot be loaded right now, sorry."}):Object(b.jsx)("div",{className:"map-container",children:f&&e.loaded?Object(b.jsx)(Y.a,{center:e.center,zoom:u,mapContainerStyle:F,options:P,onLoad:p,onUnmount:O,onCenterChanged:function(){null!==t.current&&function(){if(t.current){var n=t.current.getCenter();void 0===n||e.center.lat===n.lat()&&e.center.lng===n.lng()||e.setCenter({lat:n.lat(),lng:n.lng()})}}()},onZoomChanged:function(){return m()},children:o.map((function(t,n){return Object(b.jsx)(z,{res:t,selectedMarker:i.index,setInfo:a,fetchData:e.fetchData},t.id)}))}):Object(b.jsx)(h,{})})}var H={collisionBehavior:"REQUIRED_AND_HIDES_OPTIONAL"};function z(e){return Object(b.jsx)("div",{children:Object(b.jsx)(Y.c,{position:{lat:e.res.lat,lng:e.res.lng},onClick:function(){return e.setInfo({open:!0,index:e.res.id})},icon:{url:e.res.cuisine.includes("Bagels")?"/bon-viveur/bagel.png":e.res.cuisine.includes("Sandwiches")?"/bon-viveur/sandwich.png":e.res.cuisine.includes("Wine")?"/bon-viveur/wine.png":e.res.category.includes("Rooftop")?"/bon-viveur/cocktail.png":e.res.cuisine.includes("Brewery")?"/bon-viveur/beer.png":e.res.cuisine.includes("Ramen")||e.res.cuisine.includes("Udon")||e.res.category.includes("Noodles")?"/bon-viveur/noodles.png":e.res.cuisine.includes("Sushi")?"/bon-viveur/sushi.png":e.res.cuisine.includes("Chicken")?"/bon-viveur/chicken.png":e.res.cuisine.includes("Pizza")?"/bon-viveur/pizza.png":e.res.cuisine.includes("Tea")?"/bon-viveur/tea.png":e.res.cuisine.includes("Coffee")?"/bon-viveur/coffee.png":e.res.cuisine.includes("Ice Cream")?"/bon-viveur/icecream.png":e.res.cuisine.includes("Bar")?"/bon-viveur/cocktail.png":e.res.cuisine.includes("Mediterranean")?"/bon-viveur/mediterranean.png":e.res.cuisine.includes("Korean")?"/bon-viveur/korean.png":e.res.cuisine.includes("Japanese")?"/bon-viveur/japanese.png":e.res.cuisine.includes("Mexican")?"/bon-viveur/mexican.png":e.res.cuisine.includes("Italian")?"/bon-viveur/italian.png":e.res.cuisine.includes("Dim Sum")?"/bon-viveur/dumpling.png":e.res.cuisine.includes("Chinese")?"/bon-viveur/chinese.png":e.res.cuisine.includes("French")?"/bon-viveur/french.png":e.res.cuisine.includes("Vegan")?"/bon-viveur/vegan.png":e.res.category.includes("Desserts")?"/bon-viveur/cake.png":e.res.cuisine.includes("Bakery")?"/bon-viveur/croissant.png":R.reduce((function(t,n){return!(!t&&!e.res.cuisine.includes(n))}),!1)?"/bon-viveur/asian.png":e.res.category.includes("Brunch")?"/bon-viveur/avocado.png":e.res.cuisine.includes("Seafood")?"/bon-viveur/seafood.png":"/bon-viveur/restaurant.png",scaledSize:{width:32,height:32}},options:H,children:e.selectedMarker===e.res.id&&Object(b.jsx)(Y.b,{position:{lat:e.res.lat,lng:e.res.lng},options:{},children:Object(b.jsx)(g,{res:e.res,fetchData:e.fetchData})})})})}var U=c.a.memo(S),K=n(24),L=n.n(K),V={},Z=[];var W=n.p+"static/media/unfilled.35da6e04.png",J=n.p+"static/media/halfstar.f2b5f456.png",X=n.p+"static/media/mappin.5c365d0f.png",q=n.p+"static/media/phone.d3374a1e.png",_=n.p+"static/media/yelp.dd33b665.png",$=(n(51),[{name:"New York City",location:{lat:40.724,lng:-73.978},zoom:14},{name:"San Francisco",location:{lat:37.768,lng:-122.444},zoom:13},{name:"Boston",location:{lat:42.351,lng:-71.072},zoom:13.5},{name:"Los Angeles",location:{lat:34.051,lng:-118.371},zoom:12}]);function ee(e){for(var t=[],n=Math.floor(e.data.rating),A=0;A<n;A++)t.push("filled");var c=0;e.data.rating%1!==0&&(t.push("half"),c=1);for(var i=5-n-c,a=0;a<i;a++)t.push("unfilled");return Object(b.jsx)("div",{className:"dialog-wrapper",children:Object(b.jsxs)("div",{className:"dialog",children:[Object(b.jsx)("p",{className:"close",onClick:e.close,children:Object(b.jsx)("img",{src:B,style:{width:"10px"},alt:"close"})}),e.state.loading?Object(b.jsx)(h,{}):e.state.error?Object(b.jsx)("h4",{children:"There was an error."}):Object(b.jsxs)("div",{className:"dialog-content",children:[Object(b.jsx)("h3",{children:e.data.name}),e.data.is_closed?Object(b.jsx)("p",{className:"closed",children:"permanently closed"}):"",Object(b.jsxs)("div",{className:"star-container",children:[Object(b.jsx)("div",{className:"star-wrapper",children:t.map((function(e,t){return Object(b.jsx)(te,{type:e},t)}))}),Object(b.jsx)("p",{children:" | "+(e.data.price||function(e){for(var t="",n=0;n<e;n++)t+="$";return t}(e.state.rest.price))})]}),Object(b.jsx)("h4",{children:e.data.categories.map((function(e,t){var n="";return t>0&&(n+=", "),n+=e.title}))}),Object(b.jsxs)("div",{className:"dialog-info",children:[Object(b.jsx)("img",{src:X,alt:"pin"}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"https://maps.google.com/?q="+e.data.location.display_address[0]+", "+e.data.location.display_address[1],target:"_blank",rel:"noreferrer",children:e.data.location.display_address[0]+", "+e.data.location.display_address[1]})})]}),Object(b.jsxs)("div",{className:"dialog-info",children:[Object(b.jsx)("img",{src:q,alt:"phone"}),Object(b.jsx)("p",{children:e.data.display_phone||"N/A"})]}),Object(b.jsxs)("div",{className:"dialog-info",children:[Object(b.jsx)("img",{src:_,alt:"yelp"}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:e.data.url,target:"_blank",rel:"noreferrer",children:"Yelp"})})]})]})]})})}function te(e){var t={filled:"data:image/png;base64,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",unfilled:W,half:J};return Object(b.jsx)("img",{src:t[e.type],alt:"star",className:"star"})}var ne=function(){var e=Object(A.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(A.useState)(!1),a=Object(d.a)(i,2),r=a[0],h=a[1],g=Object(A.useState)(!1),m=Object(d.a)(g,2),x=m[0],y=m[1],C=Object(A.useState)({cuisines:[],categories:[],locations:[]}),B=Object(d.a)(C,2),D=B[0],M=B[1],Q=Object(A.useState)([]),I=Object(d.a)(Q,2),N=I[0],k=I[1],Y=Object(A.useState)({open:!1,loading:!1,error:!1,data:{},rest:{}}),F=Object(d.a)(Y,2),P=F[0],T=F[1],R=Object(A.useState)(1),S=Object(d.a)(R,2),H=S[0],z=S[1],K=Object(A.useState)(""),W=Object(d.a)(K,2),J=W[0],X=W[1],q=Object(A.useState)($[H].location),_=Object(d.a)(q,2),te=_[0],ne=_[1],Ae=Object(A.useState)($[H].zoom),ce=Object(d.a)(Ae,2),ie=ce[0],ae=ce[1],se=Object(A.useRef)({lat:0,lng:0});Object(A.useEffect)((function(){re()}),[]),Object(A.useEffect)((function(){ue()}),[n,te,ie]),Object(A.useEffect)((function(){ne($[H].location),ae($[H].zoom)}),[H]),Object(A.useEffect)((function(){de()}),[te]),Object(A.useEffect)((function(){P.open||P.loading?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}),[P]);var re=function(){fetch(w).then((function(e){return e.text()})).then(oe)},oe=function(e){var t=function(e){var t=e.split("\n").map((function(e){return e.split(",")})),n=t.shift();return(t=t.filter((function(e){return e.length>=7}))).map((function(e,t){var A={};return n.forEach((function(t,n){if("cuisine"===t||"location"===t||"category"===t){var c=e[n].split("|");A[t]=c}else if("lat"===t||"lng"===t)A[t]=parseFloat(e[n]);else{var i=e[n].trim();A[t]=i}})),A.id=t,A}))}(e);c(t),k(t.filter((function(e){return p({lat:e.lat,lng:e.lng},te)<O(ie)/35e3}))),h(!0)},le=function(e){!function(e,t,n){if(n(Object(s.a)(Object(s.a)({},t),{},{loading:!0})),V.hasOwnProperty(e.id))n({open:!0,data:V[e.id],rest:e,loading:!1,error:!1});else{var A={term:e.name,latitude:e.lat,longitude:e.lng,sort_by:"best_match",limit:1},c="https://tranquil-waters-09571.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/search");L.a.get(c,{headers:{Authorization:"Bearer ".concat("ADRBX-UxZiZKehLa6yxp4gpCLqr3O39muhcVRQQ8IKX-fJc0PixZNS6FIOIt6FD4CeMNhxbhyBiPppaxooa4qcScqm2CZrG-FB_eX2m1ikFQ8astC1fbhKdAmkk0X3Yx")},params:A}).then((function(t){var A=t.data.businesses[0];V[e.id]={is_closed:A.is_closed,name:A.name,price:A.price,rating:A.rating,categories:A.categories,location:{display_address:A.location.display_address},display_phone:A.display_phone,url:A.url},Z.push(e.id),Z.length>50&&(delete V[Z[0]],Z.shift()),n({open:!0,data:t.data.businesses[0],rest:e,loading:!1,error:!1})})).catch((function(e){n(Object(s.a)(Object(s.a)({},t),{},{error:!0,loading:!1,open:!0}))}))}}(e,P,T)},ue=function(){var e=n.filter((function(e){return p({lat:e.lat,lng:e.lng},te)<O(ie)/35e3})),t=j("cuisine",e),A=j("category",e),c=j("location",e),i={cuisines:Object(u.a)(t),categories:Object(u.a)(A),locations:Object(u.a)(c)};M(i)},de=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p(se.current,te)>.144927)){e.next=6;break}return se.current=te,e.next=4,v(te);case 4:(t=e.sent)&&X(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{className:"App-header",children:[Object(b.jsx)("div",{onClick:function(){return y(!x)},className:"nav",children:Object(b.jsx)("img",{src:x?"data:image/png;base64,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":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAArpJREFUeNrs2dFNwzAUQFE/5AEYhQ1IJ6ErsAFswEZNN8gIjNANHq8TUIQa1ck5kuWf/NjuVRw1WmvZgBGdn+wBjEvAIGBAwICAQcCAgIH76Tc8815jsVWwumONt/8GvGTmbC9hXRExuUKDb2BAwICAAQGDgAEBAwIGAQMCBgQMCBgEDAgYEDAI2BaAgAEBAwIGAQMCBgQMCBgEDAgYEDAIGBAwIGBAwCBgQMCAgAEBg4ABAQMCBgEDAgYEDAgYBAwIGBAwIGAQMCBgQMAgYEDAgIABAYOAgQfSt7y4iJhqOjnm/crM8AYGBAwIGBAwCBgQMCBg2Jm+8fUtNQ6OGQEPKDMvNc2OGVdoQMCAgAEBg4ABAQMCBgEDAgYEDAgYBAwIGBAwCBgQMCBgQMAgYEDAgIABAYOAAQEDAgYBAwIGBAwIGAQMCBgQMCBgEDAgYEDAIGBAwICAAQGDgAEBAwIGWt/y4iJiqunkmPcrM8MbGBAwIGBAwCBgQMCAgGFn+sbXt9Q4OGYEPKDMvNQ0O2ZcoQEBAwIGBAwCBgQMCBgEDAgYEDAgYBAwIGBAwCBgQMCAgAEBg4ABAQMCBgQMAgYEDAgYBAwIGBAwIGAQMCBgQMCAgEHAgIABAYOAAQEDAgYEDAIGBAwIGGh9y4uLiJeavhzzfmXmJOBxPdd49TPGFRoQMCBgQMAgYEDAwF9t/W+k7xqfjhkBDygzrwF/OGZcoQEBAwIGBAwCBgQMCBgEDAgYEDAgYBAwIGBAwCBgQMCAgAEBg4ABAQMCBgQMAgYEDAgYBAwIGBAwIGAQMCBgQMCAgEHAgIABAYOAAQEDAgYEDAIGBAwIGBAwCBgQMCBgEDAgYEDAgIBBwMCj6Dc8c4yIyVbB6n7tLmqkfYIhnV2hwTcwIGBAwCBgQMDA/Vz/RpptAwxp+RFgADaxLERRU2b4AAAAAElFTkSuQmCC",style:{width:"100%"},alt:x?"map":"list"})}),Object(b.jsx)("h1",{children:"BON VIVEUR"}),Object(b.jsx)("h2",{children:null!==J&&void 0!==J?J:$[H].name}),Object(b.jsx)(E,{setRes:k,restaurants:n,cities:$,city:H,setCity:z,labels:D,devMode:true,center:te,zoom:ie}),Object(b.jsx)(G,{labels:D,city:H,restaurants:N,center:te})]}),P.loading||P.open?Object(b.jsx)(ee,{state:P,data:P.data,close:function(){return T(Object(s.a)(Object(s.a)({},P),{},{open:!1}))}}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("div",{className:"content-wrapper",children:x?Object(b.jsx)(f,{restaurants:N,fetchData:le,loaded:r,center:te,zoom:ie}):Object(b.jsx)(U,{restaurants:N,loaded:r,fetchData:le,cityCode:H,setCityName:X,center:te,setCenter:ne,zoom:ie,setZoom:ae})})]})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,A=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),A(e),c(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ne,{})}),document.getElementById("root")),Ae()}},[[52,1,2]]]);
//# sourceMappingURL=main.17131e94.chunk.js.map